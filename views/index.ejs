<!DOCTYPE html>
<html lang="en">
  <%- include("./partials/head.ejs")  %>

<body>
    
  <%- include("./partials/nav.ejs")  %>

    <div class="blogs content">
      <% if (users.length > 0) { %>
        <h2>All Users</h2>
        <% const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: "2-digit", minute: "2-digit", second: "2-digit"}; %>
        <table>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Mobile Number</th>
            <th>Created At</th>
          </tr>
          <% users.forEach((user, index) => { %>
            <tr>
              <td><%= index + 1 %></td>
              <td><%= user.name %></td>
              <td><%= user.email %></td>
              <td><%= user.number %></td>
              <td><%= new Date(user.createdAt).toLocaleDateString(undefined, options) %></td>
            </tr>
          <% }) %>
        </table>
      <% } else { %>
        <p>There are no users to display...ðŸ¤”</p>
      <% } %>
    </div>

    <%- include("./partials/footer.ejs")  %>

</body>
</html>   